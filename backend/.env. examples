# ======================================================
# KIN2 WORKFORCE PLATFORM - ENVIRONMENT CONFIGURATION
# ======================================================
# Copy this file to .env and fill in your values
# ======================================================

# ======================================================
# 1. APPLICATION CONFIGURATION
# ======================================================

# Application Environment
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# Application URLs
APP_URL=http://localhost:5173
API_URL=http://localhost:3000
ADMIN_URL=http://localhost:3000/admin
FRONTEND_URL=http://localhost:5173

# CORS Configuration
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# Session Configuration
SESSION_SECRET=your-session-secret-key-min-32-characters-long
SESSION_NAME=kin2.sid
SESSION_MAX_AGE=86400000 # 24 hours in milliseconds

# ======================================================
# 2. DATABASE CONFIGURATION
# ======================================================

# PostgreSQL Database (Required)
DATABASE_URL=postgresql://username:password@localhost:5432/kin2_db
DIRECT_URL=postgresql://username:password@localhost:5432/kin2_db

# Database Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_IDLE_TIMEOUT=30000
DATABASE_POOL_CONNECTION_TIMEOUT=2000

# ======================================================
# 3. AUTHENTICATION & SECURITY
# ======================================================

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-min-32-characters-here
JWT_REFRESH_SECRET=your-refresh-token-secret-min-32-characters-here
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password Hashing
BCRYPT_SALT_ROUNDS=12

# OAuth Configuration (Optional)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_CALLBACK_URL=http://localhost:3000/api/auth/linkedin/callback

GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3000/api/auth/github/callback

# API Keys Security
API_KEY_HEADER=X-API-Key
API_RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
API_RATE_LIMIT_MAX_REQUESTS=100

# ======================================================
# 4. AI SERVICES CONFIGURATION
# ======================================================

# DeepSeek AI (Primary)
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_TEMPERATURE=0.7
DEEPSEEK_MAX_TOKENS=2000

# OpenAI (Fallback/Alternative)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Anthropic Claude (Optional)
ANTHROPIC_API_KEY=your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_MAX_TOKENS=4000

# Cohere (Optional)
COHERE_API_KEY=your-cohere-api-key
COHERE_MODEL=command

# AI Rate Limiting
AI_RATE_LIMIT_PER_MINUTE=60
AI_RATE_LIMIT_PER_HOUR=1000
AI_RATE_LIMIT_PER_DAY=10000

# ======================================================
# 5. PAYMENT PROCESSING (STRIPE)
# ======================================================

# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# Stripe Connect (For Payouts)
STRIPE_CONNECT_CLIENT_ID=ca_your_stripe_connect_client_id
STRIPE_CONNECT_REDIRECT_URI=http://localhost:3000/api/payments/connect/callback

# Currency Configuration
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP,CAD,AUD

# Pricing Plans (in cents)
PLAN_BASIC_PRICE=9900    # $99/month
PLAN_PROFESSIONAL_PRICE=19900  # $199/month
PLAN_ENTERPRISE_PRICE=49900    # $499/month

# ======================================================
# 6. EMAIL SERVICE CONFIGURATION
# ======================================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@kin2.co.uk
SMTP_PASS=your-email-password
EMAIL_FROM="Kin2 Platform <noreply@kin2.co.uk>"
EMAIL_REPLY_TO=support@kin2.co.uk

# Email Templates
EMAIL_TEMPLATES_PATH=./src/services/email/templates
EMAIL_LOGO_URL=https://kin2.co.uk/logo.png

# Email Rate Limiting
EMAIL_RATE_LIMIT_PER_HOUR=100
EMAIL_BATCH_SIZE=50
EMAIL_RETRY_ATTEMPTS=3

# ======================================================
# 7. FILE STORAGE & UPLOADS
# ======================================================

# Local Storage (Default)
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760 # 10MB
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# AWS S3 (Optional)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=kin2-uploads
AWS_S3_ENDPOINT=https://s3.amazonaws.com

# Cloudinary (Optional for Images)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ======================================================
# 8. CACHING & PERFORMANCE
# ======================================================

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
REDIS_TLS=false
REDIS_KEY_PREFIX=kin2:

# Redis Cache Settings
CACHE_TTL_DEFAULT=3600 # 1 hour
CACHE_TTL_SHORT=300    # 5 minutes
CACHE_TTL_LONG=86400   # 24 hours

# Query Caching
ENABLE_QUERY_CACHE=true
QUERY_CACHE_TTL=60000  # 1 minute in milliseconds

# ======================================================
# 9. LOGGING & MONITORING
# ======================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_FILE_PATH=./logs
LOG_RETENTION_DAYS=30
LOG_ROTATION_INTERVAL=1d

# Sentry Error Tracking (Optional)
SENTRY_DSN=https://your-sentry-dsn.ingest.sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# New Relic APM (Optional)
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Kin2 Workforce Platform

# ======================================================
# 10. ANALYTICS & METRICS
# ======================================================

# Google Analytics (Optional)
GA_TRACKING_ID=UA-XXXXXXXXX-X
GA4_MEASUREMENT_ID=G-XXXXXXXXXX

# Mixpanel (Optional)
MIXPANEL_TOKEN=your-mixpanel-token

# Amplitude (Optional)
AMPLITUDE_API_KEY=your-amplitude-api-key

# ======================================================
# 11. THIRD-PARTY INTEGRATIONS
# ======================================================

# Calendar Services
GOOGLE_CALENDAR_CLIENT_ID=your-google-calendar-client-id
GOOGLE_CALENDAR_CLIENT_SECRET=your-google-calendar-client-secret
GOOGLE_CALENDAR_REDIRECT_URI=http://localhost:3000/api/calendar/callback

# Video Conferencing
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret
ZOOM_REDIRECT_URI=http://localhost:3000/api/zoom/callback

GOOGLE_MEET_API_KEY=your-google-meet-api-key

# Document Signing
DOCUSIGN_INTEGRATION_KEY=your-docusign-integration-key
DOCUSIGN_SECRET_KEY=your-docusign-secret-key
DOCUSIGN_REDIRECT_URI=http://localhost:3000/api/docusign/callback
DOCUSIGN_USER_ID=your-docusign-user-id

# Background Check Services
CHECKR_API_KEY=your-checkr-api-key
GOODHIRE_API_KEY=your-goodhire-api-key

# ======================================================
# 12. QUEUE & BACKGROUND JOBS
# ======================================================

# Bull Queue Configuration
REDIS_QUEUE_URL=redis://localhost:6379
QUEUE_PREFIX=kin2:queue
QUEUE_CONCURRENCY=5

# Job Retry Settings
JOB_RETRY_ATTEMPTS=3
JOB_RETRY_DELAY=5000

# Scheduled Jobs
CRON_SCHEDULE_CLEANUP="0 2 * * *" # Daily at 2 AM
CRON_SCHEDULE_BACKUP="0 3 * * *"  # Daily at 3 AM
CRON_SCHEDULE_REPORTS="0 4 * * *" # Daily at 4 AM

# ======================================================
# 13. FEATURE FLAGS
# ======================================================

# Core Features
ENABLE_AI_AGENTS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_PAYMENTS=true
ENABLE_KFN_SCORING=true
ENABLE_SOCIAL_LOGIN=true

# Advanced Features
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_BIOMETRIC_AUTH=false
ENABLE_VOICE_VERIFICATION=false
ENABLE_VIDEO_INTERVIEWS=false
ENABLE_BACKGROUND_CHECKS=false
ENABLE_SKILLS_ASSESSMENTS=false

# Experimental Features
ENABLE_BLOCKCHAIN_CERTIFICATES=false
ENABLE_AR_INTERVIEWS=false
ENABLE_ML_PREDICTIONS=false

# ======================================================
# 14. RATE LIMITING
# ======================================================

# General Rate Limits
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_AUTH=10      # Auth endpoints
RATE_LIMIT_MAX_API=100      # General API
RATE_LIMIT_MAX_AI=50        # AI endpoints
RATE_LIMIT_MAX_UPLOAD=20    # File uploads

# IP-Based Rate Limiting
TRUST_PROXY=1
RATE_LIMIT_SKIP_LOCALHOST=true

# ======================================================
# 15. SECURITY HEADERS
# ======================================================

# Helmet Configuration
HELMET_HSTS_MAX_AGE=31536000
HELMET_HSTS_INCLUDE_SUBDOMAINS=true
HELMET_HSTS_PRELOAD=true

# CSP Headers
CSP_REPORT_ONLY=false
CSP_REPORT_URI=/api/security/csp-report

# ======================================================
# 16. TESTING & DEVELOPMENT
# ======================================================

# Test Database
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/kin2_test
TEST_REDIS_URL=redis://localhost:6380

# Test Stripe Keys
STRIPE_TEST_SECRET_KEY=sk_test_your_test_key
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_your_test_key
STRIPE_TEST_WEBHOOK_SECRET=whsec_test_secret

# Mock Services
MOCK_AI_RESPONSES=false
MOCK_EMAIL_SENDING=true
MOCK_PAYMENTS=true

# ======================================================
# 17. NOTIFICATION SERVICES
# ======================================================

# Firebase Cloud Messaging (Push Notifications)
FCM_SERVER_KEY=your-fcm-server-key
FCM_PROJECT_ID=your-fcm-project-id

# Twilio (SMS)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Slack Webhooks (Optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
SLACK_CHANNEL="#notifications"
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token

# Discord Webhooks (Optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/webhook/url

# ======================================================
# 18. INTERNATIONALIZATION
# ======================================================

# Localization
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,en-GB,es-ES,fr-FR,de-DE
TIMEZONE=UTC

# Date/Time Formatting
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss
DATETIME_FORMAT=YYYY-MM-DD HH:mm:ss

# ======================================================
# 19. COMPLIANCE & REGULATIONS
# ======================================================

# GDPR Compliance
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=730 # 2 years
GDPR_AUTO_DELETE_INACTIVE_USERS=false

# Data Privacy
ENCRYPT_PERSONAL_DATA=true
ENCRYPTION_KEY=your-32-character-encryption-key-here
ENCRYPTION_IV=your-16-character-iv-here

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# ======================================================
# 20. ADMINISTRATION
# ======================================================

# Admin Panel
ADMIN_EMAIL=admin@kin2.co.uk
ADMIN_PASSWORD=ChangeThisPassword123!
ADMIN_2FA_SECRET=your-2fa-secret-here

# Backup Configuration
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress. Please try again later."

# ======================================================
# 21. PERFORMANCE OPTIMIZATION
# ======================================================

# Connection Pooling
DB_POOL_SIZE=10
DB_POOL_TIMEOUT=30000
DB_POOL_IDLE_TIMEOUT=10000

# Query Optimization
QUERY_TIMEOUT=30000
QUERY_LOG_THRESHOLD=1000 # Log queries taking > 1 second

# Compression
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

# ======================================================
# 22. DEBUGGING & DEVELOPMENT
# ======================================================

# Debug Flags
DEBUG=false
DEBUG_DATABASE=false
DEBUG_AI=false
DEBUG_EMAIL=false
DEBUG_PAYMENTS=false

# Query Logging
PRISMA_LOG_LEVEL=info
PRISMA_LOG_QUERIES=false

# Performance Profiling
PROFILING_ENABLED=false
PROFILING_OUTPUT_DIR=./profiles

# ======================================================
# 23. API KEYS FOR EXTERNAL SERVICES
# ======================================================

# Google Maps
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# IP Geolocation
IPINFO_TOKEN=your-ipinfo-token
MAXMIND_LICENSE_KEY=your-maxmind-license-key

# Email Validation
HUNTER_API_KEY=your-hunter-api-key
CLEARBIT_API_KEY=your-clearbit-api-key

# Company Data
CRUNCHBASE_API_KEY=your-crunchbase-api-key

# ======================================================
# 24. WEBHOOK CONFIGURATION
# ======================================================

# Webhook Signing
WEBHOOK_SECRET=your-webhook-signing-secret
WEBHOOK_TIMEOUT=5000
WEBHOOK_RETRY_ATTEMPTS=3

# External Webhook URLs
WEBHOOK_SUCCESS_URL=https://your-domain.com/webhook/success
WEBHOOK_FAILURE_URL=https://your-domain.com/webhook/failure
WEBHOOK_EVENTS=user.created,payment.succeeded,job.completed

# ======================================================
# 25. MONETIZATION & BILLING
# ======================================================

# Commission Rates
PLATFORM_COMMISSION_RATE=0.10 # 10%
MINIMUM_COMMISSION=1.00 # $1
MAXIMUM_COMMISSION=50.00 # $50

# Payout Settings
PAYOUT_THRESHOLD=50.00 # Minimum $50 for payout
PAYOUT_SCHEDULE=weekly # weekly, bi-weekly, monthly
PAYOUT_DAY=monday # Day of week for payouts

# Tax Configuration
TAX_RATE=0.20 # 20% tax rate
TAX_COUNTRY=US
TAX_ENABLED=true

# ======================================================
# 26. SUPPORT & CONTACT
# ======================================================

# Support Configuration
SUPPORT_EMAIL=support@kin2.co.uk
SUPPORT_PHONE=+1-800-KIN2-NOW
SUPPORT_WORKING_HOURS=9-18 # 9 AM to 6 PM
SUPPORT_TIMEZONE=UTC

# Contact Information
CONTACT_ADDRESS="123 Tech Street, London, UK"
CONTACT_COMPANY_NAME="Kin2 Technologies Ltd."
CONTACT_VAT_NUMBER=GB123456789

# ======================================================
# END OF CONFIGURATION
# ======================================================
# 
# IMPORTANT NOTES:
# 1. Never commit your actual .env file to version control
# 2. Generate strong secrets using: openssl rand -base64 32
# 3. Use different keys for development and production
# 4. Regularly rotate sensitive keys
# 5. Store production keys in a secure vault
#
# ======================================================
